<!DOCTYPE html>
<html ng-app="binkClient" lang="en">
  <head>
    <meta charset="utf-8">
    <title>Friends Tutorials</title>
    {% if page.description %}<meta name="description" content="{{ page.description }}">{% endif %}
    <meta name="author" content="{{ site.author.name }}">

    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="{{ ASSET_PATH }}/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="{{ ASSET_PATH }}/css/tree.css?body=1" rel="stylesheet" type="text/css" media="all">
      <link href="{{ ASSET_PATH }}/css/Spacetree.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- JIT Library File -->
      <script type="text/javascript" src="space_tree.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.2/angular.min.js"></script>

    <script type="text/javascript" src="tree.js"></script>

      <script>
          angular.module('binkClient', []).
                  config(['$routeProvider', function($routeProvider) {
              $routeProvider.when('/', {templateUrl: '/categories.html',   controller: pagesCtrl});
          }]);

          function pagesCtrl($scope, $routeParams) {
              if ($routeParams.urlParam == undefined)
              {
                  $.getJSON("http://jsonip.appspot.com?callback=?",
                          function(data){
                              $scope.userIP = data.ip;
                          });
                    $scope.templateUrl = '/Map/Map.html';

                  $.ajax({
                      url: document.location.protocol + '//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=10&callback=?&q=' + encodeURIComponent('https://github.com/Urigo/urigo.github.com/commits/master.atom' + '&userip='+ $scope.userIP),
                      dataType: 'json',
                      success: function(data) {
                          $scope.latestUpdates = data.responseData.feed;
                      }
                  });

                  console.log($scope.latestUpdates);



                  //{"feedUrl":"https://github.com/Urigo/urigo.github.com/commits/master.atom","title":"Recent Commits to urigo.github.com:master","link":"https://github.com/Urigo/urigo.github.com/commits/master","author":"","description":"","type":"atom10","entries":[{"title":"Health and beauty","link":"https://github.com/Urigo/urigo.github.com/commit/2deea785117b23896344ad2bb57589aef1320f58","author":"Uri Goldshtein","publishedDate":"Fri, 19 Oct 2012 04:53:53 -0700","contentSnippet":"+ Map/Health_and_beauty/Fitness/Strength/Strength.html\n+ Map/Health_and_beauty/Longevity/Longevity.html\nm tree.js\n\n      Health ...","content":"<pre>+ Map/Health_and_beauty/Fitness/Strength/Strength.html\n+ Map/Health_and_beauty/Longevity/Longevity.html\nm tree.js\n</pre>\n      <pre style=\"white-space:pre-wrap;width:81ex\">Health and beauty</pre>","categories":[]},{"title":"Energy","link":"https://github.com/Urigo/urigo.github.com/commit/d6058d6db1d4aa5ceb227d30ed9f44310cb07cb0","author":"Uri Goldshtein","publishedDate":"Fri, 19 Oct 2012 04:06:02 -0700","contentSnippet":"m Map/Money/Savings/Expenses_types/Energy/Energy.html\nm tree.js\n\n      Energy","content":"<pre>m Map/Money/Savings/Expenses_types/Energy/Energy.html\nm tree.js\n</pre>\n      <pre style=\"white-space:pre-wrap;width:81ex\">Energy</pre>","categories":[]},{"title":"Check route","link":"https://github.com/Urigo/urigo.github.com/commit/43de362c53faceaf57b56db5e02ed1349d763122","author":"Uri Goldshtein","publishedDate":"Thu, 18 Oct 2012 08:13:...,"content":"<pre>m tree.js\n</pre>\n      <pre style=\"white-space:pre-wrap;width:81ex\">Adding UI for Leonid</pre>","categories":[]},{"title":"Update Symfony2.html","link":"https://github.com/Urigo/urigo.github.com/commit/ecbc5e071197e356514768d4128ea4da7de34b8e","author":"Uri Goldshtein","publishedDate":"Wed, 17 Oct 2012 02:27:37 -0700","contentSnippet":"m Symfony2.html\n\n      Update Symfony2.html","content":"<pre>m Symfony2.html\n</pre>\n      <pre style=\"white-space:pre-wrap;width:81ex\">Update Symfony2.html</pre>","categories":[]},{"title":"Check route","link":"https://github.com/Urigo/urigo.github.com/commit/554371121a71584d36eefce8f7477b3baa48808b","author":"Uri Goldshtein","publishedDate":"Mon,
              }
              else{
                  var x = $routeParams.urlParam.lastIndexOf('/');
                  var fileName = $routeParams.urlParam.substr(x+1);
                  $scope.templateUrl = '/Map/'+$routeParams.urlParam+'/'+fileName+'.html';
              }

              $scope.afterPartialLoaded = function() {
                  var currentPageId = $scope.templateUrl;
                  loadDisqus(currentPageId);
              };

              $scope.yes = "yes!";
          }

          function loadDisqus(currentPageId) {
              // http://docs.disqus.com/help/2/
              window.disqus_shortname = 'lifessmalltutorial';
              window.disqus_identifier = currentPageId;
              window.disqus_url = 'http://urigo.github.com' + currentPageId;

              // http://docs.disqus.com/developers/universal/
              (function() {
                  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                  dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                  (document.getElementsByTagName('head')[0] ||
                          document.getElementsByTagName('body')[0]).appendChild(dsq);
              })();

              angular.element(document.getElementById('disqus_thread')).html('');
          }


      </script>
  </head>

  <body onload="init();">
      <div id='container'>
          <div id='center-container'>
              <div id='infovis'/>
          </div>
          <div id='right-container' ng-show="false">

              <h4>Tree Orientation</h4>
              <table>
                  <tr>
                      <td>
                          <label for='r-top'>Top </label>
                      </td>
                      <td>
                          <input checked='checked' id='r-top' name='orientation' type='radio' value='top'/>
                      </td>
                  </tr>
                  <tr>
                      <td>
                          <label for='r-left'>Left </label>
                      </td>
                      <td>
                          <input id='r-left' name='orientation' type='radio' value='left'/>
                      </td>
                  </tr>
                  <tr>
                      <td>
                          <label for='r-bottom'>Bottom </label>
                      </td>
                      <td>
                          <input id='r-bottom' name='orientation' type='radio' value='bottom'/>
                      </td>
                  </tr>
                  <tr>
                      <td>
                          <label for='r-right'>Right </label>
                      </td>
                      <td>
                          <input id='r-right' name='orientation' type='radio' value='right'/>
                      </td>
                  </tr>
              </table>

              <h4>Selection Mode</h4>
              <table>
                  <tr>
                      <td>
                          <label for='s-normal'>Normal </label>
                      </td>
                      <td>
                          <input checked='checked' id='s-normal' name='selection' type='radio' value='normal'/>
                      </td>
                  </tr>
                  <tr>
                      <td>
                          <label for='s-root'>Set as Root </label>
                      </td>
                      <td>
                          <input id='s-root' name='selection' type='radio' value='root'/>
                      </td>
                  </tr>
              </table>

          </div>
          <div id='log'/>
      </div>

      <div>
          <!--
          pages

          <div id="posts">
              {% for page in site.pages %}
              '{{ page.url }}',
              {% endfor %}
          </div>

          {% for page in site.pages %}
          <a href="#{{ page.url }}">{{ page.title }}</a>
          {% endfor %}

          postsId - is it?
          {% for post in site.posts %}
          <a href="#{{ post.url }}">{{ post.title }}</a>
          {% endfor %}
               -->
          <div ng-view></div>


          {% include JB/analytics %}
      </div>
  </body>
</html>
